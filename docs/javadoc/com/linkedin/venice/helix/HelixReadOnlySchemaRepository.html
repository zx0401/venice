<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>HelixReadOnlySchemaRepository (venice API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="HelixReadOnlySchemaRepository (venice API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.linkedin.venice.helix</a></div>
<h2 title="Class HelixReadOnlySchemaRepository" class="title">Class HelixReadOnlySchemaRepository</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.linkedin.venice.helix.HelixReadOnlySchemaRepository</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code>, <code><a href="../meta/StoreDataChangedListener.html" title="interface in com.linkedin.venice.meta">StoreDataChangedListener</a></code>, <code><a href="../VeniceResource.html" title="interface in com.linkedin.venice">VeniceResource</a></code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="HelixReadOnlyZKSharedSchemaRepository.html" title="class in com.linkedin.venice.helix">HelixReadOnlyZKSharedSchemaRepository</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">HelixReadOnlySchemaRepository</span>
extends java.lang.Object
implements <a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a>, <a href="../meta/StoreDataChangedListener.html" title="interface in com.linkedin.venice.meta">StoreDataChangedListener</a></pre>
<div class="block">This class is used to cache store schema and provide various query operations.
 This expected user is router to support venice client schema query operations,
 and storage node for schema validation;

 TODO:
 1. This class needs to periodically clear/warm up local cache since we might miss some notifications:
  1.` Re-connect;
 One way to achieve to record the previous clear timestamp, and clear it again when the duration
 exceeds some amount of time in query functions.
 We need to reach out Helix team for this issue since it will impact Helix cache as well.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#VALUE_SCHEMA_STARTING_ID">VALUE_SCHEMA_STARTING_ID</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(com.linkedin.venice.meta.ReadOnlyStoreRepository,org.apache.helix.zookeeper.impl.client.ZkClient,com.linkedin.venice.helix.HelixAdapterSerializer,java.lang.String,int,long)">HelixReadOnlySchemaRepository</a></span>&#8203;(<a href="../meta/ReadOnlyStoreRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyStoreRepository</a>&nbsp;storeRepository,
                             org.apache.helix.zookeeper.impl.client.ZkClient&nbsp;zkClient,
                             <a href="HelixAdapterSerializer.html" title="class in com.linkedin.venice.helix">HelixAdapterSerializer</a>&nbsp;adapter,
                             java.lang.String&nbsp;clusterName,
                             int&nbsp;refreshAttemptsForZkReconnect,
                             long&nbsp;refreshIntervalForZkReconnectInMs)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clear()">clear</a></span>()</code></th>
<td class="colLast">
<div class="block">Clear local cache and watches</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute">DerivedSchemaEntry</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDerivedSchema(java.lang.String,int,int)">getDerivedSchema</a></span>&#8203;(java.lang.String&nbsp;storeName,
                int&nbsp;valueSchemaId,
                int&nbsp;derivedSchemaId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../schema/GeneratedSchemaID.html" title="class in com.linkedin.venice.schema">GeneratedSchemaID</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDerivedSchemaId(java.lang.String,java.lang.String)">getDerivedSchemaId</a></span>&#8203;(java.lang.String&nbsp;storeName,
                  java.lang.String&nbsp;derivedSchemaStr)</code></th>
<td class="colLast">
<div class="block">Look up derived schema id and its corresponding value schema id by given store name and derived schema.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute">DerivedSchemaEntry</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDerivedSchemas(java.lang.String)">getDerivedSchemas</a></span>&#8203;(java.lang.String&nbsp;storeName)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getKeySchema(java.lang.String)">getKeySchema</a></span>&#8203;(java.lang.String&nbsp;storeName)</code></th>
<td class="colLast">
<div class="block">This function is used to retrieve key schema for the given store.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute">DerivedSchemaEntry</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLatestDerivedSchema(java.lang.String,int)">getLatestDerivedSchema</a></span>&#8203;(java.lang.String&nbsp;storeName,
                      int&nbsp;valueSchemaId)</code></th>
<td class="colLast">
<div class="block">Get the most recent derived schema added to the given store and value schema id</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../schema/rmd/RmdSchemaEntry.html" title="class in com.linkedin.venice.schema.rmd">RmdSchemaEntry</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getReplicationMetadataSchema(java.lang.String,int,int)">getReplicationMetadataSchema</a></span>&#8203;(java.lang.String&nbsp;storeName,
                            int&nbsp;valueSchemaId,
                            int&nbsp;replicationMetadataVersionId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../schema/rmd/RmdSchemaEntry.html" title="class in com.linkedin.venice.schema.rmd">RmdSchemaEntry</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getReplicationMetadataSchemas(java.lang.String)">getReplicationMetadataSchemas</a></span>&#8203;(java.lang.String&nbsp;storeName)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSupersetOrLatestValueSchema(java.lang.String)">getSupersetOrLatestValueSchema</a></span>&#8203;(java.lang.String&nbsp;storeName)</code></th>
<td class="colLast">
<div class="block">Caller shouldn't modify the returned SchemeEntry</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSupersetSchema(java.lang.String)">getSupersetSchema</a></span>&#8203;(java.lang.String&nbsp;storeName)</code></th>
<td class="colLast">
<div class="block">Get the superset value schema for a given store.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getValueSchema(java.lang.String,int)">getValueSchema</a></span>&#8203;(java.lang.String&nbsp;storeName,
              int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">This function is used to retrieve the value schema for the given store and value schema id.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getValueSchemaId(java.lang.String,java.lang.String)">getValueSchemaId</a></span>&#8203;(java.lang.String&nbsp;storeName,
                java.lang.String&nbsp;valueSchemaStr)</code></th>
<td class="colLast">
<div class="block">This function is used to retrieve value schema id for the given store and schema.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getValueSchemas(java.lang.String)">getValueSchemas</a></span>&#8203;(java.lang.String&nbsp;storeName)</code></th>
<td class="colLast">
<div class="block">This function is used to retrieve all the value schemas for the given store.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleStoreChanged(com.linkedin.venice.meta.Store)">handleStoreChanged</a></span>&#8203;(<a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleStoreCreated(com.linkedin.venice.meta.Store)">handleStoreCreated</a></span>&#8203;(<a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store)</code></th>
<td class="colLast">
<div class="block">Do nothing here, since we want to warm up local cache gradually.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleStoreDeleted(java.lang.String)">handleStoreDeleted</a></span>&#8203;(java.lang.String&nbsp;storeName)</code></th>
<td class="colLast">
<div class="block">For store deletion, we need to delete the local cache entry right way,
 otherwise the local cache may contain the stale entries for store-delete-and-add scenario.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasValueSchema(java.lang.String,int)">hasValueSchema</a></span>&#8203;(java.lang.String&nbsp;storeName,
              int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">This function is used to check whether the value schema id is valid in the given store.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#refresh()">refresh</a></span>()</code></th>
<td class="colLast">
<div class="block">Refer to <a href="#clear()"><code>clear()</code></a>

 This function will clear the local cache/watches, and populates the schemaMap from schemaRepository.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.linkedin.venice.meta.ReadOnlySchemaRepository">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.linkedin.venice.meta.<a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></h3>
<code><a href="../meta/ReadOnlySchemaRepository.html#getLatestDerivedSchema(java.lang.String)">getLatestDerivedSchema</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.linkedin.venice.meta.StoreDataChangedListener">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.linkedin.venice.meta.<a href="../meta/StoreDataChangedListener.html" title="interface in com.linkedin.venice.meta">StoreDataChangedListener</a></h3>
<code><a href="../meta/StoreDataChangedListener.html#handleStoreDeleted(com.linkedin.venice.meta.Store)">handleStoreDeleted</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="VALUE_SCHEMA_STARTING_ID">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VALUE_SCHEMA_STARTING_ID</h4>
<pre>public static final&nbsp;int VALUE_SCHEMA_STARTING_ID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.linkedin.venice.helix.HelixReadOnlySchemaRepository.VALUE_SCHEMA_STARTING_ID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(com.linkedin.venice.meta.ReadOnlyStoreRepository,org.apache.helix.zookeeper.impl.client.ZkClient,com.linkedin.venice.helix.HelixAdapterSerializer,java.lang.String,int,long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HelixReadOnlySchemaRepository</h4>
<pre>public&nbsp;HelixReadOnlySchemaRepository&#8203;(<a href="../meta/ReadOnlyStoreRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyStoreRepository</a>&nbsp;storeRepository,
                                     org.apache.helix.zookeeper.impl.client.ZkClient&nbsp;zkClient,
                                     <a href="HelixAdapterSerializer.html" title="class in com.linkedin.venice.helix">HelixAdapterSerializer</a>&nbsp;adapter,
                                     java.lang.String&nbsp;clusterName,
                                     int&nbsp;refreshAttemptsForZkReconnect,
                                     long&nbsp;refreshIntervalForZkReconnectInMs)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getKeySchema(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeySchema</h4>
<pre class="methodSignature">public&nbsp;<a href="../schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a>&nbsp;getKeySchema&#8203;(java.lang.String&nbsp;storeName)</pre>
<div class="block">This function is used to retrieve key schema for the given store.
 If store doesn't exist, this function will return null;
 If key schema for the given store doesn't exist, will return null;
 Otherwise, it will return the key schema;

 Caller shouldn't modify the returned SchemeEntry</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#getKeySchema(java.lang.String)">getKeySchema</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null, if key schema for the given store doesn't exist;
    key schema entry, otherwise;</dd>
</dl>
</li>
</ul>
<a id="getValueSchema(java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValueSchema</h4>
<pre class="methodSignature">public&nbsp;<a href="../schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a>&nbsp;getValueSchema&#8203;(java.lang.String&nbsp;storeName,
                                  int&nbsp;id)</pre>
<div class="block">This function is used to retrieve the value schema for the given store and value schema id.

 Caller shouldn't modify the returned SchemeEntry</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#getValueSchema(java.lang.String,int)">getValueSchema</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null, if the schema doesn't exist;
    value schema entry, otherwise;</dd>
</dl>
</li>
</ul>
<a id="hasValueSchema(java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasValueSchema</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;hasValueSchema&#8203;(java.lang.String&nbsp;storeName,
                              int&nbsp;id)</pre>
<div class="block">This function is used to check whether the value schema id is valid in the given store.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#hasValueSchema(java.lang.String,int)">hasValueSchema</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
</dl>
</li>
</ul>
<a id="getValueSchemaId(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValueSchemaId</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getValueSchemaId&#8203;(java.lang.String&nbsp;storeName,
                            java.lang.String&nbsp;valueSchemaStr)</pre>
<div class="block">This function is used to retrieve value schema id for the given store and schema.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#getValueSchemaId(java.lang.String,java.lang.String)">getValueSchemaId</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../schema/SchemaData.html#INVALID_VALUE_SCHEMA_ID"><code>SchemaData.INVALID_VALUE_SCHEMA_ID</code></a>, if the schema doesn't exist in the given store;
    schema id (int), if the schema exists in the given store</dd>
</dl>
</li>
</ul>
<a id="getDerivedSchemaId(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDerivedSchemaId</h4>
<pre class="methodSignature">public&nbsp;<a href="../schema/GeneratedSchemaID.html" title="class in com.linkedin.venice.schema">GeneratedSchemaID</a>&nbsp;getDerivedSchemaId&#8203;(java.lang.String&nbsp;storeName,
                                            java.lang.String&nbsp;derivedSchemaStr)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html#getDerivedSchemaId(java.lang.String,java.lang.String)">ReadOnlySchemaRepository</a></code></span></div>
<div class="block">Look up derived schema id and its corresponding value schema id by given store name and derived schema. This is
 likely used by clients that write to Venice</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#getDerivedSchemaId(java.lang.String,java.lang.String)">getDerivedSchemaId</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a pair where the first value is value schema id and the second value is derived schema id</dd>
</dl>
</li>
</ul>
<a id="getDerivedSchema(java.lang.String,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDerivedSchema</h4>
<pre class="methodSignature">public&nbsp;<a href="../schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute">DerivedSchemaEntry</a>&nbsp;getDerivedSchema&#8203;(java.lang.String&nbsp;storeName,
                                           int&nbsp;valueSchemaId,
                                           int&nbsp;derivedSchemaId)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#getDerivedSchema(java.lang.String,int,int)">getDerivedSchema</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
</dl>
</li>
</ul>
<a id="getValueSchemas(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValueSchemas</h4>
<pre class="methodSignature">public&nbsp;java.util.Collection&lt;<a href="../schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a>&gt;&nbsp;getValueSchemas&#8203;(java.lang.String&nbsp;storeName)</pre>
<div class="block">This function is used to retrieve all the value schemas for the given store.

 Caller shouldn't modify the returned SchemeEntry list.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#getValueSchemas(java.lang.String)">getValueSchemas</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>value schema list</dd>
</dl>
</li>
</ul>
<a id="getDerivedSchemas(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDerivedSchemas</h4>
<pre class="methodSignature">public&nbsp;java.util.Collection&lt;<a href="../schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute">DerivedSchemaEntry</a>&gt;&nbsp;getDerivedSchemas&#8203;(java.lang.String&nbsp;storeName)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#getDerivedSchemas(java.lang.String)">getDerivedSchemas</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
</dl>
</li>
</ul>
<a id="getSupersetOrLatestValueSchema(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSupersetOrLatestValueSchema</h4>
<pre class="methodSignature">public&nbsp;<a href="../schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a>&nbsp;getSupersetOrLatestValueSchema&#8203;(java.lang.String&nbsp;storeName)</pre>
<div class="block">Caller shouldn't modify the returned SchemeEntry</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#getSupersetOrLatestValueSchema(java.lang.String)">getSupersetOrLatestValueSchema</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
</dl>
</li>
</ul>
<a id="getSupersetSchema(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSupersetSchema</h4>
<pre class="methodSignature">public&nbsp;<a href="../schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a>&nbsp;getSupersetSchema&#8203;(java.lang.String&nbsp;storeName)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html#getSupersetSchema(java.lang.String)">ReadOnlySchemaRepository</a></code></span></div>
<div class="block">Get the superset value schema for a given store. Each store has at most one active superset schema. Specifically a
 store must have some features enabled (e.g. read compute, write compute) to have a superset value schema which
 evolves as new value schemas are added.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#getSupersetSchema(java.lang.String)">getSupersetSchema</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Superset value schema or <code>null</code> if store {@param storeName} does not have any superset value schema.</dd>
</dl>
</li>
</ul>
<a id="getLatestDerivedSchema(java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLatestDerivedSchema</h4>
<pre class="methodSignature">public&nbsp;<a href="../schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute">DerivedSchemaEntry</a>&nbsp;getLatestDerivedSchema&#8203;(java.lang.String&nbsp;storeName,
                                                 int&nbsp;valueSchemaId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html#getLatestDerivedSchema(java.lang.String,int)">ReadOnlySchemaRepository</a></code></span></div>
<div class="block">Get the most recent derived schema added to the given store and value schema id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#getLatestDerivedSchema(java.lang.String,int)">getLatestDerivedSchema</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
</dl>
</li>
</ul>
<a id="getReplicationMetadataSchema(java.lang.String,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplicationMetadataSchema</h4>
<pre class="methodSignature">public&nbsp;<a href="../schema/rmd/RmdSchemaEntry.html" title="class in com.linkedin.venice.schema.rmd">RmdSchemaEntry</a>&nbsp;getReplicationMetadataSchema&#8203;(java.lang.String&nbsp;storeName,
                                                   int&nbsp;valueSchemaId,
                                                   int&nbsp;replicationMetadataVersionId)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#getReplicationMetadataSchema(java.lang.String,int,int)">getReplicationMetadataSchema</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
</dl>
</li>
</ul>
<a id="getReplicationMetadataSchemas(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplicationMetadataSchemas</h4>
<pre class="methodSignature">public&nbsp;java.util.Collection&lt;<a href="../schema/rmd/RmdSchemaEntry.html" title="class in com.linkedin.venice.schema.rmd">RmdSchemaEntry</a>&gt;&nbsp;getReplicationMetadataSchemas&#8203;(java.lang.String&nbsp;storeName)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/ReadOnlySchemaRepository.html#getReplicationMetadataSchemas(java.lang.String)">getReplicationMetadataSchemas</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a></code></dd>
</dl>
</li>
</ul>
<a id="refresh()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refresh</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;refresh()</pre>
<div class="block">Refer to <a href="#clear()"><code>clear()</code></a>

 This function will clear the local cache/watches, and populates the schemaMap from schemaRepository.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../VeniceResource.html#refresh()">refresh</a></code>&nbsp;in interface&nbsp;<code><a href="../VeniceResource.html" title="interface in com.linkedin.venice">VeniceResource</a></code></dd>
</dl>
</li>
</ul>
<a id="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;clear()</pre>
<div class="block">Clear local cache and watches</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../VeniceResource.html#clear()">clear</a></code>&nbsp;in interface&nbsp;<code><a href="../VeniceResource.html" title="interface in com.linkedin.venice">VeniceResource</a></code></dd>
</dl>
</li>
</ul>
<a id="handleStoreCreated(com.linkedin.venice.meta.Store)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleStoreCreated</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleStoreCreated&#8203;(<a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store)</pre>
<div class="block">Do nothing here, since we want to warm up local cache gradually.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/StoreDataChangedListener.html#handleStoreCreated(com.linkedin.venice.meta.Store)">handleStoreCreated</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/StoreDataChangedListener.html" title="interface in com.linkedin.venice.meta">StoreDataChangedListener</a></code></dd>
</dl>
</li>
</ul>
<a id="handleStoreDeleted(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleStoreDeleted</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleStoreDeleted&#8203;(java.lang.String&nbsp;storeName)</pre>
<div class="block">For store deletion, we need to delete the local cache entry right way,
 otherwise the local cache may contain the stale entries for store-delete-and-add scenario.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/StoreDataChangedListener.html#handleStoreDeleted(java.lang.String)">handleStoreDeleted</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/StoreDataChangedListener.html" title="interface in com.linkedin.venice.meta">StoreDataChangedListener</a></code></dd>
</dl>
</li>
</ul>
<a id="handleStoreChanged(com.linkedin.venice.meta.Store)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handleStoreChanged</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleStoreChanged&#8203;(<a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/StoreDataChangedListener.html#handleStoreChanged(com.linkedin.venice.meta.Store)">handleStoreChanged</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/StoreDataChangedListener.html" title="interface in com.linkedin.venice.meta">StoreDataChangedListener</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
