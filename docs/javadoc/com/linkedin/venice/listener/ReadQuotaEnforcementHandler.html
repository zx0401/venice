<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ReadQuotaEnforcementHandler (venice API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ReadQuotaEnforcementHandler (venice API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":9,"i5":9,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.linkedin.venice.listener</a></div>
<h2 title="Class ReadQuotaEnforcementHandler" class="title">Class ReadQuotaEnforcementHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>io.netty.channel.ChannelHandlerAdapter</li>
<li>
<ul class="inheritance">
<li>io.netty.channel.ChannelInboundHandlerAdapter</li>
<li>
<ul class="inheritance">
<li>io.netty.channel.SimpleChannelInboundHandler&lt;<a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&gt;</li>
<li>
<ul class="inheritance">
<li>com.linkedin.venice.listener.ReadQuotaEnforcementHandler</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html" title="interface in com.linkedin.venice.meta">RoutingDataRepository.RoutingDataChangedListener</a></code>, <code><a href="../meta/StoreDataChangedListener.html" title="interface in com.linkedin.venice.meta">StoreDataChangedListener</a></code>, <code>io.netty.channel.ChannelHandler</code>, <code>io.netty.channel.ChannelInboundHandler</code></dd>
</dl>
<hr>
<pre>@Sharable
public class <span class="typeNameLabel">ReadQuotaEnforcementHandler</span>
extends io.netty.channel.SimpleChannelInboundHandler&lt;<a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&gt;
implements <a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html" title="interface in com.linkedin.venice.meta">RoutingDataRepository.RoutingDataChangedListener</a>, <a href="../meta/StoreDataChangedListener.html" title="interface in com.linkedin.venice.meta">StoreDataChangedListener</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.io.netty.channel.ChannelHandler">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;io.netty.channel.ChannelHandler</h3>
<code>io.netty.channel.ChannelHandler.Sharable</code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(long,com.linkedin.venice.meta.ReadOnlyStoreRepository,java.util.concurrent.CompletableFuture,java.lang.String,com.linkedin.venice.stats.AggServerQuotaUsageStats,io.tehuti.metrics.MetricsRepository)">ReadQuotaEnforcementHandler</a></span>&#8203;(long&nbsp;storageNodeRcuCapacity,
                           <a href="../meta/ReadOnlyStoreRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyStoreRepository</a>&nbsp;storeRepository,
                           java.util.concurrent.CompletableFuture&lt;<a href="../helix/HelixCustomizedViewOfflinePushRepository.html" title="class in com.linkedin.venice.helix">HelixCustomizedViewOfflinePushRepository</a>&gt;&nbsp;customizedViewRepository,
                           java.lang.String&nbsp;nodeId,
                           <a href="../stats/AggServerQuotaUsageStats.html" title="class in com.linkedin.venice.stats">AggServerQuotaUsageStats</a>&nbsp;stats,
                           io.tehuti.metrics.MetricsRepository&nbsp;metricsRepository)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(long,com.linkedin.venice.meta.ReadOnlyStoreRepository,java.util.concurrent.CompletableFuture,java.lang.String,com.linkedin.venice.stats.AggServerQuotaUsageStats,io.tehuti.metrics.MetricsRepository,java.time.Clock)">ReadQuotaEnforcementHandler</a></span>&#8203;(long&nbsp;storageNodeRcuCapacity,
                           <a href="../meta/ReadOnlyStoreRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyStoreRepository</a>&nbsp;storeRepository,
                           java.util.concurrent.CompletableFuture&lt;<a href="../helix/HelixCustomizedViewOfflinePushRepository.html" title="class in com.linkedin.venice.helix">HelixCustomizedViewOfflinePushRepository</a>&gt;&nbsp;customizedViewRepository,
                           java.lang.String&nbsp;nodeId,
                           <a href="../stats/AggServerQuotaUsageStats.html" title="class in com.linkedin.venice.stats">AggServerQuotaUsageStats</a>&nbsp;stats,
                           io.tehuti.metrics.MetricsRepository&nbsp;metricsRepository,
                           java.time.Clock&nbsp;clock)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#channelRead0(io.netty.channel.ChannelHandlerContext,com.linkedin.venice.listener.request.RouterRequest)">channelRead0</a></span>&#8203;(io.netty.channel.ChannelHandlerContext&nbsp;ctx,
            <a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&nbsp;request)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkInitAndQuotaEnabledToSkipQuotaEnforcement(io.netty.channel.ChannelHandlerContext,com.linkedin.venice.listener.request.RouterRequest,com.linkedin.venice.meta.Store,boolean)">checkInitAndQuotaEnabledToSkipQuotaEnforcement</a></span>&#8203;(io.netty.channel.ChannelHandlerContext&nbsp;ctx,
                                              <a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&nbsp;request,
                                              <a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store,
                                              boolean&nbsp;isGrpc)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkStoreNull(io.netty.channel.ChannelHandlerContext,com.linkedin.venice.listener.request.RouterRequest,com.linkedin.venice.listener.grpc.GrpcRequestContext,boolean,com.linkedin.venice.meta.Store)">checkStoreNull</a></span>&#8203;(io.netty.channel.ChannelHandlerContext&nbsp;ctx,
              <a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&nbsp;request,
              <a href="grpc/GrpcRequestContext.html" title="class in com.linkedin.venice.listener.grpc">GrpcRequestContext</a>&nbsp;grpcCtx,
              boolean&nbsp;isGrpc,
              <a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../throttle/TokenBucket.html" title="class in com.linkedin.venice.throttle">TokenBucket</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBucketForStore(java.lang.String)">getBucketForStore</a></span>&#8203;(java.lang.String&nbsp;storeName)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNodeResponsibilityForQuota(com.linkedin.venice.meta.PartitionAssignment,java.lang.String)">getNodeResponsibilityForQuota</a></span>&#8203;(<a href="../meta/PartitionAssignment.html" title="class in com.linkedin.venice.meta">PartitionAssignment</a>&nbsp;partitionAssignment,
                             java.lang.String&nbsp;nodeId)</code></th>
<td class="colLast">
<div class="block">Recalculates the amount of quota that this node should serve given the partition assignment.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRcu(com.linkedin.venice.listener.request.RouterRequest)">getRcu</a></span>&#8203;(<a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&nbsp;request)</code></th>
<td class="colLast">
<div class="block">Initially, this is the key count.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../stats/AggServerQuotaUsageStats.html" title="class in com.linkedin.venice.stats">AggServerQuotaUsageStats</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStats()">getStats</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../meta/ReadOnlyStoreRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyStoreRepository</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStoreRepository()">getStoreRepository</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.concurrent.ConcurrentMap&lt;java.lang.String,&#8203;<a href="../throttle/TokenBucket.html" title="class in com.linkedin.venice.throttle">TokenBucket</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStoreVersionBuckets()">getStoreVersionBuckets</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleResourceNoBucket(java.lang.String)">handleResourceNoBucket</a></span>&#8203;(java.lang.String&nbsp;resourceName)</code></th>
<td class="colLast">
<div class="block">This method and the expiring set noBucketStores is only used to throttle the logging of such event</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleServerOverCapacity(io.netty.channel.ChannelHandlerContext,com.linkedin.venice.listener.grpc.GrpcRequestContext,java.lang.String,int,boolean)">handleServerOverCapacity</a></span>&#8203;(io.netty.channel.ChannelHandlerContext&nbsp;ctx,
                        <a href="grpc/GrpcRequestContext.html" title="class in com.linkedin.venice.listener.grpc">GrpcRequestContext</a>&nbsp;grpcCtx,
                        java.lang.String&nbsp;storeName,
                        int&nbsp;rcu,
                        boolean&nbsp;isGrpc)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleStoreChanged(com.linkedin.venice.meta.Store)">handleStoreChanged</a></span>&#8203;(<a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store)</code></th>
<td class="colLast">
<div class="block">This is where we add new <a href="../throttle/TokenBucket.html" title="class in com.linkedin.venice.throttle"><code>TokenBucket</code></a> for new store version and remove irrelevant ones.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleStoreCreated(com.linkedin.venice.meta.Store)">handleStoreCreated</a></span>&#8203;(<a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store)</code></th>
<td class="colLast">
<div class="block">Do NOT try to acquire the lock of store repository again in the implementation, otherwise a dead lock issue will
 happen.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleStoreDeleted(java.lang.String)">handleStoreDeleted</a></span>&#8203;(java.lang.String&nbsp;storeName)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleTooManyRequests(io.netty.channel.ChannelHandlerContext,com.linkedin.venice.listener.request.RouterRequest,com.linkedin.venice.listener.grpc.GrpcRequestContext,com.linkedin.venice.meta.Store,int,boolean)">handleTooManyRequests</a></span>&#8203;(io.netty.channel.ChannelHandlerContext&nbsp;ctx,
                     <a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&nbsp;request,
                     <a href="grpc/GrpcRequestContext.html" title="class in com.linkedin.venice.listener.grpc">GrpcRequestContext</a>&nbsp;grpcCtx,
                     <a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store,
                     int&nbsp;rcu,
                     boolean&nbsp;isGrpc)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#init()">init</a></span>()</code></th>
<td class="colLast">
<div class="block">Initialize token buckets for all resources in the customized view repository.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isInitialized()">isInitialized</a></span>()</code></th>
<td class="colLast">
<div class="block">We only ever expect the initialized value to flip from false to true, but that initialization might happen in
  a different thread.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isNewNoBucketResource(java.lang.String)">isNewNoBucketResource</a></span>&#8203;(java.lang.String&nbsp;resourceName)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#listTopics()">listTopics</a></span>()</code></th>
<td class="colLast">
<div class="block">For tests</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onCustomizedViewAdded(com.linkedin.venice.meta.PartitionAssignment)">onCustomizedViewAdded</a></span>&#8203;(<a href="../meta/PartitionAssignment.html" title="class in com.linkedin.venice.meta">PartitionAssignment</a>&nbsp;partitionAssignment)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onCustomizedViewChange(com.linkedin.venice.meta.PartitionAssignment)">onCustomizedViewChange</a></span>&#8203;(<a href="../meta/PartitionAssignment.html" title="class in com.linkedin.venice.meta">PartitionAssignment</a>&nbsp;partitionAssignment)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onExternalViewChange(com.linkedin.venice.meta.PartitionAssignment)">onExternalViewChange</a></span>&#8203;(<a href="../meta/PartitionAssignment.html" title="class in com.linkedin.venice.meta">PartitionAssignment</a>&nbsp;partitionAssignment)</code></th>
<td class="colLast">
<div class="block">Handle routing data changed event.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onPartitionStatusChange(java.lang.String,com.linkedin.venice.pushmonitor.ReadOnlyPartitionStatus)">onPartitionStatusChange</a></span>&#8203;(java.lang.String&nbsp;topic,
                       <a href="../pushmonitor/ReadOnlyPartitionStatus.html" title="class in com.linkedin.venice.pushmonitor">ReadOnlyPartitionStatus</a>&nbsp;partitionStatus)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onRoutingDataDeleted(java.lang.String)">onRoutingDataDeleted</a></span>&#8203;(java.lang.String&nbsp;kafkaTopic)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#storageConsumeRcu(int)">storageConsumeRcu</a></span>&#8203;(int&nbsp;rcu)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.io.netty.channel.SimpleChannelInboundHandler">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.netty.channel.SimpleChannelInboundHandler</h3>
<code>acceptInboundMessage, channelRead</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.io.netty.channel.ChannelInboundHandlerAdapter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.netty.channel.ChannelInboundHandlerAdapter</h3>
<code>channelActive, channelInactive, channelReadComplete, channelRegistered, channelUnregistered, channelWritabilityChanged, exceptionCaught, userEventTriggered</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.io.netty.channel.ChannelHandlerAdapter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.netty.channel.ChannelHandlerAdapter</h3>
<code>ensureNotSharable, handlerAdded, handlerRemoved, isSharable</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.io.netty.channel.ChannelHandler">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;io.netty.channel.ChannelHandler</h3>
<code>handlerAdded, handlerRemoved</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.linkedin.venice.meta.StoreDataChangedListener">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.linkedin.venice.meta.<a href="../meta/StoreDataChangedListener.html" title="interface in com.linkedin.venice.meta">StoreDataChangedListener</a></h3>
<code><a href="../meta/StoreDataChangedListener.html#handleStoreDeleted(com.linkedin.venice.meta.Store)">handleStoreDeleted</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(long,com.linkedin.venice.meta.ReadOnlyStoreRepository,java.util.concurrent.CompletableFuture,java.lang.String,com.linkedin.venice.stats.AggServerQuotaUsageStats,io.tehuti.metrics.MetricsRepository)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ReadQuotaEnforcementHandler</h4>
<pre>public&nbsp;ReadQuotaEnforcementHandler&#8203;(long&nbsp;storageNodeRcuCapacity,
                                   <a href="../meta/ReadOnlyStoreRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyStoreRepository</a>&nbsp;storeRepository,
                                   java.util.concurrent.CompletableFuture&lt;<a href="../helix/HelixCustomizedViewOfflinePushRepository.html" title="class in com.linkedin.venice.helix">HelixCustomizedViewOfflinePushRepository</a>&gt;&nbsp;customizedViewRepository,
                                   java.lang.String&nbsp;nodeId,
                                   <a href="../stats/AggServerQuotaUsageStats.html" title="class in com.linkedin.venice.stats">AggServerQuotaUsageStats</a>&nbsp;stats,
                                   io.tehuti.metrics.MetricsRepository&nbsp;metricsRepository)</pre>
</li>
</ul>
<a id="&lt;init&gt;(long,com.linkedin.venice.meta.ReadOnlyStoreRepository,java.util.concurrent.CompletableFuture,java.lang.String,com.linkedin.venice.stats.AggServerQuotaUsageStats,io.tehuti.metrics.MetricsRepository,java.time.Clock)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ReadQuotaEnforcementHandler</h4>
<pre>public&nbsp;ReadQuotaEnforcementHandler&#8203;(long&nbsp;storageNodeRcuCapacity,
                                   <a href="../meta/ReadOnlyStoreRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyStoreRepository</a>&nbsp;storeRepository,
                                   java.util.concurrent.CompletableFuture&lt;<a href="../helix/HelixCustomizedViewOfflinePushRepository.html" title="class in com.linkedin.venice.helix">HelixCustomizedViewOfflinePushRepository</a>&gt;&nbsp;customizedViewRepository,
                                   java.lang.String&nbsp;nodeId,
                                   <a href="../stats/AggServerQuotaUsageStats.html" title="class in com.linkedin.venice.stats">AggServerQuotaUsageStats</a>&nbsp;stats,
                                   io.tehuti.metrics.MetricsRepository&nbsp;metricsRepository,
                                   java.time.Clock&nbsp;clock)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getRcu(com.linkedin.venice.listener.request.RouterRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRcu</h4>
<pre class="methodSignature">public static&nbsp;int&nbsp;getRcu&#8203;(<a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&nbsp;request)</pre>
<div class="block">Initially, this is the key count.  As we develop a more accurate capacity model, this method can be refined.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="getNodeResponsibilityForQuota(com.linkedin.venice.meta.PartitionAssignment,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNodeResponsibilityForQuota</h4>
<pre class="methodSignature">protected static&nbsp;double&nbsp;getNodeResponsibilityForQuota&#8203;(<a href="../meta/PartitionAssignment.html" title="class in com.linkedin.venice.meta">PartitionAssignment</a>&nbsp;partitionAssignment,
                                                      java.lang.String&nbsp;nodeId)</pre>
<div class="block">Recalculates the amount of quota that this node should serve given the partition assignment.  Assumes each
 partition gets an even portion of quota, and for each partition divides the quota by the readyToServe instances.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitionAssignment</code> - </dd>
<dd><code>nodeId</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="init()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;init()</pre>
<div class="block">Initialize token buckets for all resources in the customized view repository.</div>
</li>
</ul>
<a id="isInitialized()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInitialized</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isInitialized()</pre>
<div class="block">We only ever expect the initialized value to flip from false to true, but that initialization might happen in
  a different thread.  By only checking the volatile variable if it is false, we guarantee that we see the change
  as early as possible and also allow the thread to cache the value once it goes true.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="channelRead0(io.netty.channel.ChannelHandlerContext,com.linkedin.venice.listener.request.RouterRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>channelRead0</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;channelRead0&#8203;(io.netty.channel.ChannelHandlerContext&nbsp;ctx,
                         <a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&nbsp;request)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>channelRead0</code>&nbsp;in class&nbsp;<code>io.netty.channel.SimpleChannelInboundHandler&lt;<a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a id="checkStoreNull(io.netty.channel.ChannelHandlerContext,com.linkedin.venice.listener.request.RouterRequest,com.linkedin.venice.listener.grpc.GrpcRequestContext,boolean,com.linkedin.venice.meta.Store)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkStoreNull</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;checkStoreNull&#8203;(io.netty.channel.ChannelHandlerContext&nbsp;ctx,
                              <a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&nbsp;request,
                              <a href="grpc/GrpcRequestContext.html" title="class in com.linkedin.venice.listener.grpc">GrpcRequestContext</a>&nbsp;grpcCtx,
                              boolean&nbsp;isGrpc,
                              <a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store)</pre>
</li>
</ul>
<a id="checkInitAndQuotaEnabledToSkipQuotaEnforcement(io.netty.channel.ChannelHandlerContext,com.linkedin.venice.listener.request.RouterRequest,com.linkedin.venice.meta.Store,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkInitAndQuotaEnabledToSkipQuotaEnforcement</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;checkInitAndQuotaEnabledToSkipQuotaEnforcement&#8203;(io.netty.channel.ChannelHandlerContext&nbsp;ctx,
                                                              <a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&nbsp;request,
                                                              <a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store,
                                                              boolean&nbsp;isGrpc)</pre>
</li>
</ul>
<a id="handleTooManyRequests(io.netty.channel.ChannelHandlerContext,com.linkedin.venice.listener.request.RouterRequest,com.linkedin.venice.listener.grpc.GrpcRequestContext,com.linkedin.venice.meta.Store,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleTooManyRequests</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;handleTooManyRequests&#8203;(io.netty.channel.ChannelHandlerContext&nbsp;ctx,
                                     <a href="request/RouterRequest.html" title="class in com.linkedin.venice.listener.request">RouterRequest</a>&nbsp;request,
                                     <a href="grpc/GrpcRequestContext.html" title="class in com.linkedin.venice.listener.grpc">GrpcRequestContext</a>&nbsp;grpcCtx,
                                     <a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store,
                                     int&nbsp;rcu,
                                     boolean&nbsp;isGrpc)</pre>
</li>
</ul>
<a id="handleResourceNoBucket(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleResourceNoBucket</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleResourceNoBucket&#8203;(java.lang.String&nbsp;resourceName)</pre>
<div class="block">This method and the expiring set noBucketStores is only used to throttle the logging of such event</div>
</li>
</ul>
<a id="handleServerOverCapacity(io.netty.channel.ChannelHandlerContext,com.linkedin.venice.listener.grpc.GrpcRequestContext,java.lang.String,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleServerOverCapacity</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;handleServerOverCapacity&#8203;(io.netty.channel.ChannelHandlerContext&nbsp;ctx,
                                        <a href="grpc/GrpcRequestContext.html" title="class in com.linkedin.venice.listener.grpc">GrpcRequestContext</a>&nbsp;grpcCtx,
                                        java.lang.String&nbsp;storeName,
                                        int&nbsp;rcu,
                                        boolean&nbsp;isGrpc)</pre>
</li>
</ul>
<a id="onExternalViewChange(com.linkedin.venice.meta.PartitionAssignment)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onExternalViewChange</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onExternalViewChange&#8203;(<a href="../meta/PartitionAssignment.html" title="class in com.linkedin.venice.meta">PartitionAssignment</a>&nbsp;partitionAssignment)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html#onExternalViewChange(com.linkedin.venice.meta.PartitionAssignment)">RoutingDataRepository.RoutingDataChangedListener</a></code></span></div>
<div class="block">Handle routing data changed event.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html#onExternalViewChange(com.linkedin.venice.meta.PartitionAssignment)">onExternalViewChange</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html" title="interface in com.linkedin.venice.meta">RoutingDataRepository.RoutingDataChangedListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitionAssignment</code> - Newest partitions assignments information including resource name and  all of instances assigned to this resource.
                            If the number of partition is 0, it means the kafka topic is deleted.</dd>
</dl>
</li>
</ul>
<a id="onCustomizedViewChange(com.linkedin.venice.meta.PartitionAssignment)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCustomizedViewChange</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onCustomizedViewChange&#8203;(<a href="../meta/PartitionAssignment.html" title="class in com.linkedin.venice.meta">PartitionAssignment</a>&nbsp;partitionAssignment)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html#onCustomizedViewChange(com.linkedin.venice.meta.PartitionAssignment)">onCustomizedViewChange</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html" title="interface in com.linkedin.venice.meta">RoutingDataRepository.RoutingDataChangedListener</a></code></dd>
</dl>
</li>
</ul>
<a id="onCustomizedViewAdded(com.linkedin.venice.meta.PartitionAssignment)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCustomizedViewAdded</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onCustomizedViewAdded&#8203;(<a href="../meta/PartitionAssignment.html" title="class in com.linkedin.venice.meta">PartitionAssignment</a>&nbsp;partitionAssignment)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html#onCustomizedViewAdded(com.linkedin.venice.meta.PartitionAssignment)">onCustomizedViewAdded</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html" title="interface in com.linkedin.venice.meta">RoutingDataRepository.RoutingDataChangedListener</a></code></dd>
</dl>
</li>
</ul>
<a id="onPartitionStatusChange(java.lang.String,com.linkedin.venice.pushmonitor.ReadOnlyPartitionStatus)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onPartitionStatusChange</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onPartitionStatusChange&#8203;(java.lang.String&nbsp;topic,
                                    <a href="../pushmonitor/ReadOnlyPartitionStatus.html" title="class in com.linkedin.venice.pushmonitor">ReadOnlyPartitionStatus</a>&nbsp;partitionStatus)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html#onPartitionStatusChange(java.lang.String,com.linkedin.venice.pushmonitor.ReadOnlyPartitionStatus)">onPartitionStatusChange</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html" title="interface in com.linkedin.venice.meta">RoutingDataRepository.RoutingDataChangedListener</a></code></dd>
</dl>
</li>
</ul>
<a id="onRoutingDataDeleted(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRoutingDataDeleted</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onRoutingDataDeleted&#8203;(java.lang.String&nbsp;kafkaTopic)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html#onRoutingDataDeleted(java.lang.String)">onRoutingDataDeleted</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/RoutingDataRepository.RoutingDataChangedListener.html" title="interface in com.linkedin.venice.meta">RoutingDataRepository.RoutingDataChangedListener</a></code></dd>
</dl>
</li>
</ul>
<a id="handleStoreCreated(com.linkedin.venice.meta.Store)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleStoreCreated</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleStoreCreated&#8203;(<a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../meta/StoreDataChangedListener.html#handleStoreCreated(com.linkedin.venice.meta.Store)">StoreDataChangedListener</a></code></span></div>
<div class="block">Do NOT try to acquire the lock of store repository again in the implementation, otherwise a dead lock issue will
 happen.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/StoreDataChangedListener.html#handleStoreCreated(com.linkedin.venice.meta.Store)">handleStoreCreated</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/StoreDataChangedListener.html" title="interface in com.linkedin.venice.meta">StoreDataChangedListener</a></code></dd>
</dl>
</li>
</ul>
<a id="handleStoreDeleted(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleStoreDeleted</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleStoreDeleted&#8203;(java.lang.String&nbsp;storeName)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/StoreDataChangedListener.html#handleStoreDeleted(java.lang.String)">handleStoreDeleted</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/StoreDataChangedListener.html" title="interface in com.linkedin.venice.meta">StoreDataChangedListener</a></code></dd>
</dl>
</li>
</ul>
<a id="handleStoreChanged(com.linkedin.venice.meta.Store)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleStoreChanged</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleStoreChanged&#8203;(<a href="../meta/Store.html" title="interface in com.linkedin.venice.meta">Store</a>&nbsp;store)</pre>
<div class="block">This is where we add new <a href="../throttle/TokenBucket.html" title="class in com.linkedin.venice.throttle"><code>TokenBucket</code></a> for new store version and remove irrelevant ones. We should keep the
 same number of token buckets as the number of active versions. This is because readers like FC might be lagging
 behind or vice versa. This way quota will still be enforced properly during the version swap or transition period.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../meta/StoreDataChangedListener.html#handleStoreChanged(com.linkedin.venice.meta.Store)">handleStoreChanged</a></code>&nbsp;in interface&nbsp;<code><a href="../meta/StoreDataChangedListener.html" title="interface in com.linkedin.venice.meta">StoreDataChangedListener</a></code></dd>
</dl>
</li>
</ul>
<a id="listTopics()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listTopics</h4>
<pre class="methodSignature">protected&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;listTopics()</pre>
<div class="block">For tests</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="getBucketForStore(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBucketForStore</h4>
<pre class="methodSignature">public&nbsp;<a href="../throttle/TokenBucket.html" title="class in com.linkedin.venice.throttle">TokenBucket</a>&nbsp;getBucketForStore&#8203;(java.lang.String&nbsp;storeName)</pre>
</li>
</ul>
<a id="getStoreRepository()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStoreRepository</h4>
<pre class="methodSignature">public&nbsp;<a href="../meta/ReadOnlyStoreRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyStoreRepository</a>&nbsp;getStoreRepository()</pre>
</li>
</ul>
<a id="getStoreVersionBuckets()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStoreVersionBuckets</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.ConcurrentMap&lt;java.lang.String,&#8203;<a href="../throttle/TokenBucket.html" title="class in com.linkedin.venice.throttle">TokenBucket</a>&gt;&nbsp;getStoreVersionBuckets()</pre>
</li>
</ul>
<a id="isNewNoBucketResource(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isNewNoBucketResource</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isNewNoBucketResource&#8203;(java.lang.String&nbsp;resourceName)</pre>
</li>
</ul>
<a id="storageConsumeRcu(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storageConsumeRcu</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;storageConsumeRcu&#8203;(int&nbsp;rcu)</pre>
</li>
</ul>
<a id="getStats()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getStats</h4>
<pre class="methodSignature">public&nbsp;<a href="../stats/AggServerQuotaUsageStats.html" title="class in com.linkedin.venice.stats">AggServerQuotaUsageStats</a>&nbsp;getStats()</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
