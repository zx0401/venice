<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SchemaUtils (venice API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SchemaUtils (venice API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.linkedin.davinci.schema</a></div>
<h2 title="Class SchemaUtils" class="title">Class SchemaUtils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.linkedin.davinci.schema.SchemaUtils</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">SchemaUtils</span>
extends java.lang.Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static org.apache.avro.Schema</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#annotateRmdSchema(org.apache.avro.Schema)">annotateRmdSchema</a></span>&#8203;(org.apache.avro.Schema&nbsp;schema)</code></th>
<td class="colLast">
<div class="block">Annotate all the top-level map and string array's deleted elements field of the RMD schema to use Java String as key.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static org.apache.avro.Schema</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#annotateUpdateSchema(org.apache.avro.Schema)">annotateUpdateSchema</a></span>&#8203;(org.apache.avro.Schema&nbsp;schema)</code></th>
<td class="colLast">
<div class="block">Annotate all the top-level map field and string array of the update schema to use Java String as key.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static org.apache.avro.Schema</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#annotateValueSchema(org.apache.avro.Schema)">annotateValueSchema</a></span>&#8203;(org.apache.avro.Schema&nbsp;schema)</code></th>
<td class="colLast">
<div class="block">Annotate all the top-level map field and string array field of the input schema to use Java String as key.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../../venice/schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute">DerivedSchemaEntry</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAnnotatedDerivedSchemaEntry(com.linkedin.venice.schema.writecompute.DerivedSchemaEntry)">getAnnotatedDerivedSchemaEntry</a></span>&#8203;(<a href="../../venice/schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute">DerivedSchemaEntry</a>&nbsp;schemaEntry)</code></th>
<td class="colLast">
<div class="block">Create a new <a href="../../venice/schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute"><code>DerivedSchemaEntry</code></a> for partial update schema annotation.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../venice/schema/rmd/RmdSchemaEntry.html" title="class in com.linkedin.venice.schema.rmd">RmdSchemaEntry</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAnnotatedRmdSchemaEntry(com.linkedin.venice.schema.rmd.RmdSchemaEntry)">getAnnotatedRmdSchemaEntry</a></span>&#8203;(<a href="../../venice/schema/rmd/RmdSchemaEntry.html" title="class in com.linkedin.venice.schema.rmd">RmdSchemaEntry</a>&nbsp;schemaEntry)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../../venice/schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAnnotatedValueSchemaEntry(com.linkedin.venice.schema.SchemaEntry)">getAnnotatedValueSchemaEntry</a></span>&#8203;(<a href="../../venice/schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a>&nbsp;schemaEntry)</code></th>
<td class="colLast">
<div class="block">Create a new <a href="../../venice/schema/SchemaEntry.html" title="class in com.linkedin.venice.schema"><code>SchemaEntry</code></a> for value schema annotation.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static org.apache.avro.Schema.Type</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unwrapOptionalUnion(org.apache.avro.Schema)">unwrapOptionalUnion</a></span>&#8203;(org.apache.avro.Schema&nbsp;fieldSchema)</code></th>
<td class="colLast">
<div class="block">This function returns the type of the field if and only if it has a single non-null type.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#validateFieldSchemaType(java.lang.String,org.apache.avro.Schema,org.apache.avro.Schema.Type)">validateFieldSchemaType</a></span>&#8203;(java.lang.String&nbsp;fieldName,
                       org.apache.avro.Schema&nbsp;fieldSchema,
                       org.apache.avro.Schema.Type&nbsp;expectedType)</code></th>
<td class="colLast">
<div class="block">This method checks if the field contains expected type.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="annotateValueSchema(org.apache.avro.Schema)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>annotateValueSchema</h4>
<pre class="methodSignature">public static&nbsp;org.apache.avro.Schema&nbsp;annotateValueSchema&#8203;(org.apache.avro.Schema&nbsp;schema)</pre>
<div class="block">Annotate all the top-level map field and string array field of the input schema to use Java String as key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>schema</code> - the input value schema to be annotated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Annotated value schema.</dd>
</dl>
</li>
</ul>
<a id="annotateUpdateSchema(org.apache.avro.Schema)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>annotateUpdateSchema</h4>
<pre class="methodSignature">public static&nbsp;org.apache.avro.Schema&nbsp;annotateUpdateSchema&#8203;(org.apache.avro.Schema&nbsp;schema)</pre>
<div class="block">Annotate all the top-level map field and string array of the update schema to use Java String as key.
 This method will make sure field update and collection merging operations of these fields are annotated.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>schema</code> - the input update schema to be annotated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Annotated update schema.</dd>
</dl>
</li>
</ul>
<a id="annotateRmdSchema(org.apache.avro.Schema)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>annotateRmdSchema</h4>
<pre class="methodSignature">public static&nbsp;org.apache.avro.Schema&nbsp;annotateRmdSchema&#8203;(org.apache.avro.Schema&nbsp;schema)</pre>
<div class="block">Annotate all the top-level map and string array's deleted elements field of the RMD schema to use Java String as key.
 This method will make sure deleted elements field of these fields are annotated.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>schema</code> - the input update schema to be annotated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Annotated update schema.</dd>
</dl>
</li>
</ul>
<a id="getAnnotatedValueSchemaEntry(com.linkedin.venice.schema.SchemaEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAnnotatedValueSchemaEntry</h4>
<pre class="methodSignature">public static&nbsp;<a href="../../venice/schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a>&nbsp;getAnnotatedValueSchemaEntry&#8203;(<a href="../../venice/schema/SchemaEntry.html" title="class in com.linkedin.venice.schema">SchemaEntry</a>&nbsp;schemaEntry)</pre>
<div class="block">Create a new <a href="../../venice/schema/SchemaEntry.html" title="class in com.linkedin.venice.schema"><code>SchemaEntry</code></a> for value schema annotation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>schemaEntry</code> - Input <a href="../../venice/schema/SchemaEntry.html" title="class in com.linkedin.venice.schema"><code>SchemaEntry</code></a>, containing the value schema to be annotated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Annotated value schema in a newly created <a href="../../venice/schema/SchemaEntry.html" title="class in com.linkedin.venice.schema"><code>SchemaEntry</code></a></dd>
</dl>
</li>
</ul>
<a id="getAnnotatedDerivedSchemaEntry(com.linkedin.venice.schema.writecompute.DerivedSchemaEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAnnotatedDerivedSchemaEntry</h4>
<pre class="methodSignature">public static&nbsp;<a href="../../venice/schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute">DerivedSchemaEntry</a>&nbsp;getAnnotatedDerivedSchemaEntry&#8203;(<a href="../../venice/schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute">DerivedSchemaEntry</a>&nbsp;schemaEntry)</pre>
<div class="block">Create a new <a href="../../venice/schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute"><code>DerivedSchemaEntry</code></a> for partial update schema annotation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>schemaEntry</code> - Input <a href="../../venice/schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute"><code>DerivedSchemaEntry</code></a>, containing the partial update schema to be annotated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Annotated partial update schema in a newly created <a href="../../venice/schema/writecompute/DerivedSchemaEntry.html" title="class in com.linkedin.venice.schema.writecompute"><code>DerivedSchemaEntry</code></a></dd>
</dl>
</li>
</ul>
<a id="getAnnotatedRmdSchemaEntry(com.linkedin.venice.schema.rmd.RmdSchemaEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAnnotatedRmdSchemaEntry</h4>
<pre class="methodSignature">public static&nbsp;<a href="../../venice/schema/rmd/RmdSchemaEntry.html" title="class in com.linkedin.venice.schema.rmd">RmdSchemaEntry</a>&nbsp;getAnnotatedRmdSchemaEntry&#8203;(<a href="../../venice/schema/rmd/RmdSchemaEntry.html" title="class in com.linkedin.venice.schema.rmd">RmdSchemaEntry</a>&nbsp;schemaEntry)</pre>
</li>
</ul>
<a id="unwrapOptionalUnion(org.apache.avro.Schema)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unwrapOptionalUnion</h4>
<pre class="methodSignature">public static&nbsp;org.apache.avro.Schema.Type&nbsp;unwrapOptionalUnion&#8203;(org.apache.avro.Schema&nbsp;fieldSchema)</pre>
<div class="block">This function returns the type of the field if and only if it has a single non-null type. In cases where the field
 is a union, it will return the type of the non-null branch as long as there is at most one such branch, otherwise
 it will return <code>Schema.Type.UNION</code>.</div>
</li>
</ul>
<a id="validateFieldSchemaType(java.lang.String,org.apache.avro.Schema,org.apache.avro.Schema.Type)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>validateFieldSchemaType</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;validateFieldSchemaType&#8203;(java.lang.String&nbsp;fieldName,
                                           org.apache.avro.Schema&nbsp;fieldSchema,
                                           org.apache.avro.Schema.Type&nbsp;expectedType)</pre>
<div class="block">This method checks if the field contains expected type. It relies on <a href="#unwrapOptionalUnion(org.apache.avro.Schema)"><code>unwrapOptionalUnion(Schema)</code></a>
 to retrieve the type from the field if incoming field is union.
 If it could not find expected type, or the incoming union is not valid for processing, it will throw <code>IllegalStateException</code></div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
