<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ReplicationMetadataRocksDBStoragePartition (venice API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ReplicationMetadataRocksDBStoragePartition (venice API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.linkedin.davinci.store.rocksdb</a></div>
<h2 title="Class ReplicationMetadataRocksDBStoragePartition" class="title">Class ReplicationMetadataRocksDBStoragePartition</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">com.linkedin.davinci.store.AbstractStoragePartition</a></li>
<li>
<ul class="inheritance">
<li><a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">com.linkedin.davinci.store.rocksdb.RocksDBStoragePartition</a></li>
<li>
<ul class="inheritance">
<li>com.linkedin.davinci.store.rocksdb.ReplicationMetadataRocksDBStoragePartition</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">ReplicationMetadataRocksDBStoragePartition</span>
extends <a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></pre>
<div class="block">This <a href="ReplicationMetadataRocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb"><code>ReplicationMetadataRocksDBStoragePartition</code></a> is built to store key value pair along with the timestamp
 metadata. It is designed for active/active replication mode, which uses putWithReplicationMetadata and getReplicationMetadata
 to insert and retrieve replication metadata associated with a key. The implementation relies on different column family
 in RocksDB to isolate the value and replication metadata of a key.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.com.linkedin.davinci.store.rocksdb.RocksDBStoragePartition">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.linkedin.davinci.store.rocksdb.<a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></h3>
<code><a href="RocksDBStoragePartition.html#blobTransferEnabled">blobTransferEnabled</a>, <a href="RocksDBStoragePartition.html#columnFamilyDescriptors">columnFamilyDescriptors</a>, <a href="RocksDBStoragePartition.html#columnFamilyHandleList">columnFamilyHandleList</a>, <a href="RocksDBStoragePartition.html#deferredWrite">deferredWrite</a>, <a href="RocksDBStoragePartition.html#partitionId">partitionId</a>, <a href="RocksDBStoragePartition.html#READ_OPTIONS_DEFAULT">READ_OPTIONS_DEFAULT</a>, <a href="RocksDBStoragePartition.html#readCloseRWLock">readCloseRWLock</a>, <a href="RocksDBStoragePartition.html#readOnly">readOnly</a>, <a href="RocksDBStoragePartition.html#rocksDB">rocksDB</a>, <a href="RocksDBStoragePartition.html#storeName">storeName</a>, <a href="RocksDBStoragePartition.html#writeOnly">writeOnly</a>, <a href="RocksDBStoragePartition.html#writeOptions">writeOptions</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(com.linkedin.davinci.store.StoragePartitionConfig,com.linkedin.davinci.store.rocksdb.RocksDBStorageEngineFactory,java.lang.String,com.linkedin.davinci.stats.RocksDBMemoryStats,com.linkedin.davinci.store.rocksdb.RocksDBThrottler,com.linkedin.davinci.store.rocksdb.RocksDBServerConfig,com.linkedin.davinci.config.VeniceStoreVersionConfig)">ReplicationMetadataRocksDBStoragePartition</a></span>&#8203;(<a href="../StoragePartitionConfig.html" title="class in com.linkedin.davinci.store">StoragePartitionConfig</a>&nbsp;storagePartitionConfig,
                                          <a href="RocksDBStorageEngineFactory.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStorageEngineFactory</a>&nbsp;factory,
                                          java.lang.String&nbsp;dbDir,
                                          <a href="../../stats/RocksDBMemoryStats.html" title="class in com.linkedin.davinci.stats">RocksDBMemoryStats</a>&nbsp;rocksDBMemoryStats,
                                          <a href="RocksDBThrottler.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBThrottler</a>&nbsp;rocksDbThrottler,
                                          <a href="RocksDBServerConfig.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBServerConfig</a>&nbsp;rocksDBServerConfig,
                                          <a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;storeConfig)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#beginBatchWrite(java.util.Map,java.util.Optional)">beginBatchWrite</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;checkpointedInfo,
               java.util.Optional&lt;java.util.function.Supplier&lt;byte[]&gt;&gt;&nbsp;expectedChecksumSupplier)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkDatabaseIntegrity(java.util.Map)">checkDatabaseIntegrity</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;checkpointedInfo)</code></th>
<td class="colLast">
<div class="block">checks whether the current state of the database is valid
 during the start of ingestion.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Close the specific partition</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteWithReplicationMetadata(byte%5B%5D,byte%5B%5D)">deleteWithReplicationMetadata</a></span>&#8203;(byte[]&nbsp;key,
                             byte[]&nbsp;replicationMetadata)</code></th>
<td class="colLast">
<div class="block">This API deletes a record from RocksDB but updates the metadata in ByteBuffer format and puts it into RocksDB.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#drop()">drop</a></span>()</code></th>
<td class="colLast">
<div class="block">Drop when it is not required anymore.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#endBatchWrite()">endBatchWrite</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFullPathForTempSSTFileDir()">getFullPathForTempSSTFileDir</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getReplicationMetadata(byte%5B%5D)">getReplicationMetadata</a></span>&#8203;(byte[]&nbsp;key)</code></th>
<td class="colLast">
<div class="block">This API retrieves replication metadata from replicationMetadataColumnFamily.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRmdByteUsage()">getRmdByteUsage</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="RocksDBSstFileWriter.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBSstFileWriter</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRocksDBSstFileWriter()">getRocksDBSstFileWriter</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getValueFullPathForTempSSTFileDir()">getValueFullPathForTempSSTFileDir</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="RocksDBSstFileWriter.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBSstFileWriter</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getValueRocksDBSstFileWriter()">getValueRocksDBSstFileWriter</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#putReplicationMetadata(byte%5B%5D,byte%5B%5D)">putReplicationMetadata</a></span>&#8203;(byte[]&nbsp;key,
                      byte[]&nbsp;metadata)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#putWithReplicationMetadata(byte%5B%5D,byte%5B%5D,byte%5B%5D)">putWithReplicationMetadata</a></span>&#8203;(byte[]&nbsp;key,
                          byte[]&nbsp;value,
                          byte[]&nbsp;metadata)</code></th>
<td class="colLast">
<div class="block">This API takes in value and metadata as byte array format and put it into RocksDB.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#putWithReplicationMetadata(byte%5B%5D,java.nio.ByteBuffer,byte%5B%5D)">putWithReplicationMetadata</a></span>&#8203;(byte[]&nbsp;key,
                          java.nio.ByteBuffer&nbsp;value,
                          byte[]&nbsp;metadata)</code></th>
<td class="colLast">
<div class="block">This API takes in value and metadata as ByteBuffer format and put it into RocksDB.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sync()">sync</a></span>()</code></th>
<td class="colLast">
<div class="block">Sync current database.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#validateBatchIngestion()">validateBatchIngestion</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.linkedin.davinci.store.rocksdb.RocksDBStoragePartition">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.linkedin.davinci.store.rocksdb.<a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></h3>
<code><a href="RocksDBStoragePartition.html#createSnapshot()">createSnapshot</a>, <a href="RocksDBStoragePartition.html#delete(byte%5B%5D)">delete</a>, <a href="RocksDBStoragePartition.html#deleteFilesInDirectory(java.lang.String)">deleteFilesInDirectory</a>, <a href="RocksDBStoragePartition.html#get(byte%5B%5D)">get</a>, <a href="RocksDBStoragePartition.html#get(byte%5B%5D,java.nio.ByteBuffer)">get</a>, <a href="RocksDBStoragePartition.html#get(java.nio.ByteBuffer)">get</a>, <a href="RocksDBStoragePartition.html#get(K)">get</a>, <a href="RocksDBStoragePartition.html#getApproximateMemoryUsageByType(java.util.Set)">getApproximateMemoryUsageByType</a>, <a href="RocksDBStoragePartition.html#getBlobTransferEnabled()">getBlobTransferEnabled</a>, <a href="RocksDBStoragePartition.html#getByKeyPrefix(byte%5B%5D,com.linkedin.davinci.callback.BytesStreamingCallback)">getByKeyPrefix</a>, <a href="RocksDBStoragePartition.html#getColumnFamilyHandleList()">getColumnFamilyHandleList</a>, <a href="RocksDBStoragePartition.html#getEnvOptions()">getEnvOptions</a>, <a href="RocksDBStoragePartition.html#getOptions()">getOptions</a>, <a href="RocksDBStoragePartition.html#getPartitionSizeInBytes()">getPartitionSizeInBytes</a>, <a href="RocksDBStoragePartition.html#getRocksDBStatValue(java.lang.String)">getRocksDBStatValue</a>, <a href="RocksDBStoragePartition.html#makeSureRocksDBIsStillOpen()">makeSureRocksDBIsStillOpen</a>, <a href="RocksDBStoragePartition.html#multiGet(java.util.List)">multiGet</a>, <a href="RocksDBStoragePartition.html#multiGet(java.util.List,java.util.List)">multiGet</a>, <a href="RocksDBStoragePartition.html#put(byte%5B%5D,byte%5B%5D)">put</a>, <a href="RocksDBStoragePartition.html#put(byte%5B%5D,java.nio.ByteBuffer)">put</a>, <a href="RocksDBStoragePartition.html#put(K,V)">put</a>, <a href="RocksDBStoragePartition.html#reopen()">reopen</a>, <a href="RocksDBStoragePartition.html#verifyConfig(com.linkedin.davinci.store.StoragePartitionConfig)">verifyConfig</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.linkedin.davinci.store.AbstractStoragePartition">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.linkedin.davinci.store.<a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></h3>
<code><a href="../AbstractStoragePartition.html#getPartitionId()">getPartitionId</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(com.linkedin.davinci.store.StoragePartitionConfig,com.linkedin.davinci.store.rocksdb.RocksDBStorageEngineFactory,java.lang.String,com.linkedin.davinci.stats.RocksDBMemoryStats,com.linkedin.davinci.store.rocksdb.RocksDBThrottler,com.linkedin.davinci.store.rocksdb.RocksDBServerConfig,com.linkedin.davinci.config.VeniceStoreVersionConfig)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ReplicationMetadataRocksDBStoragePartition</h4>
<pre>public&nbsp;ReplicationMetadataRocksDBStoragePartition&#8203;(<a href="../StoragePartitionConfig.html" title="class in com.linkedin.davinci.store">StoragePartitionConfig</a>&nbsp;storagePartitionConfig,
                                                  <a href="RocksDBStorageEngineFactory.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStorageEngineFactory</a>&nbsp;factory,
                                                  java.lang.String&nbsp;dbDir,
                                                  <a href="../../stats/RocksDBMemoryStats.html" title="class in com.linkedin.davinci.stats">RocksDBMemoryStats</a>&nbsp;rocksDBMemoryStats,
                                                  <a href="RocksDBThrottler.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBThrottler</a>&nbsp;rocksDbThrottler,
                                                  <a href="RocksDBServerConfig.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBServerConfig</a>&nbsp;rocksDBServerConfig,
                                                  <a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;storeConfig)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="putWithReplicationMetadata(byte[],byte[],byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putWithReplicationMetadata</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;putWithReplicationMetadata&#8203;(byte[]&nbsp;key,
                                       byte[]&nbsp;value,
                                       byte[]&nbsp;metadata)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#putWithReplicationMetadata(byte%5B%5D,byte%5B%5D,byte%5B%5D)">AbstractStoragePartition</a></code></span></div>
<div class="block">This API takes in value and metadata as byte array format and put it into RocksDB.
 Only <a href="ReplicationMetadataRocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb"><code>ReplicationMetadataRocksDBStoragePartition</code></a> will execute this method,
 other storage partition implementation will VeniceUnsupportedOperationException.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#putWithReplicationMetadata(byte%5B%5D,byte%5B%5D,byte%5B%5D)">putWithReplicationMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="putReplicationMetadata(byte[],byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putReplicationMetadata</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;putReplicationMetadata&#8203;(byte[]&nbsp;key,
                                   byte[]&nbsp;metadata)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#putReplicationMetadata(byte%5B%5D,byte%5B%5D)">putReplicationMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="getRmdByteUsage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRmdByteUsage</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getRmdByteUsage()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RocksDBStoragePartition.html#getRmdByteUsage()">getRmdByteUsage</a></code>&nbsp;in class&nbsp;<code><a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="putWithReplicationMetadata(byte[],java.nio.ByteBuffer,byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putWithReplicationMetadata</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;putWithReplicationMetadata&#8203;(byte[]&nbsp;key,
                                       java.nio.ByteBuffer&nbsp;value,
                                       byte[]&nbsp;metadata)</pre>
<div class="block">This API takes in value and metadata as ByteBuffer format and put it into RocksDB.
 Note that it is not an efficient implementation as it copies the content to perform the ByteBuffer -> byte[] conversion.
 TODO: Rewrite this implementation after we adopt the thread-local direct bytebuffer approach.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#putWithReplicationMetadata(byte%5B%5D,java.nio.ByteBuffer,byte%5B%5D)">putWithReplicationMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="getReplicationMetadata(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplicationMetadata</h4>
<pre class="methodSignature">public&nbsp;byte[]&nbsp;getReplicationMetadata&#8203;(byte[]&nbsp;key)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#getReplicationMetadata(byte%5B%5D)">AbstractStoragePartition</a></code></span></div>
<div class="block">This API retrieves replication metadata from replicationMetadataColumnFamily.
 Only <a href="ReplicationMetadataRocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb"><code>ReplicationMetadataRocksDBStoragePartition</code></a> will execute this method,
 other storage partition implementation will VeniceUnsupportedOperationException.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#getReplicationMetadata(byte%5B%5D)">getReplicationMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="deleteWithReplicationMetadata(byte[],byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteWithReplicationMetadata</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteWithReplicationMetadata&#8203;(byte[]&nbsp;key,
                                          byte[]&nbsp;replicationMetadata)</pre>
<div class="block">This API deletes a record from RocksDB but updates the metadata in ByteBuffer format and puts it into RocksDB.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#deleteWithReplicationMetadata(byte%5B%5D,byte%5B%5D)">deleteWithReplicationMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="checkDatabaseIntegrity(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDatabaseIntegrity</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;checkDatabaseIntegrity&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;checkpointedInfo)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#checkDatabaseIntegrity(java.util.Map)">AbstractStoragePartition</a></code></span></div>
<div class="block">checks whether the current state of the database is valid
 during the start of ingestion.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RocksDBStoragePartition.html#checkDatabaseIntegrity(java.util.Map)">checkDatabaseIntegrity</a></code>&nbsp;in class&nbsp;<code><a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="beginBatchWrite(java.util.Map,java.util.Optional)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginBatchWrite</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;beginBatchWrite&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;checkpointedInfo,
                            java.util.Optional&lt;java.util.function.Supplier&lt;byte[]&gt;&gt;&nbsp;expectedChecksumSupplier)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RocksDBStoragePartition.html#beginBatchWrite(java.util.Map,java.util.Optional)">beginBatchWrite</a></code>&nbsp;in class&nbsp;<code><a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="endBatchWrite()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endBatchWrite</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;endBatchWrite()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RocksDBStoragePartition.html#endBatchWrite()">endBatchWrite</a></code>&nbsp;in class&nbsp;<code><a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="sync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sync</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;sync()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#sync()">AbstractStoragePartition</a></code></span></div>
<div class="block">Sync current database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RocksDBStoragePartition.html#sync()">sync</a></code>&nbsp;in class&nbsp;<code><a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Database related info, which is required to be checkpointed.</dd>
</dl>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;close()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#close()">AbstractStoragePartition</a></code></span></div>
<div class="block">Close the specific partition</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RocksDBStoragePartition.html#close()">close</a></code>&nbsp;in class&nbsp;<code><a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="validateBatchIngestion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateBatchIngestion</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;validateBatchIngestion()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RocksDBStoragePartition.html#validateBatchIngestion()">validateBatchIngestion</a></code>&nbsp;in class&nbsp;<code><a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="drop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>drop</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;drop()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#drop()">AbstractStoragePartition</a></code></span></div>
<div class="block">Drop when it is not required anymore.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RocksDBStoragePartition.html#drop()">drop</a></code>&nbsp;in class&nbsp;<code><a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="getFullPathForTempSSTFileDir()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFullPathForTempSSTFileDir</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getFullPathForTempSSTFileDir()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RocksDBStoragePartition.html#getFullPathForTempSSTFileDir()">getFullPathForTempSSTFileDir</a></code>&nbsp;in class&nbsp;<code><a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="getRocksDBSstFileWriter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRocksDBSstFileWriter</h4>
<pre class="methodSignature">public&nbsp;<a href="RocksDBSstFileWriter.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBSstFileWriter</a>&nbsp;getRocksDBSstFileWriter()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RocksDBStoragePartition.html#getRocksDBSstFileWriter()">getRocksDBSstFileWriter</a></code>&nbsp;in class&nbsp;<code><a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="getValueFullPathForTempSSTFileDir()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValueFullPathForTempSSTFileDir</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getValueFullPathForTempSSTFileDir()</pre>
</li>
</ul>
<a id="getValueRocksDBSstFileWriter()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getValueRocksDBSstFileWriter</h4>
<pre class="methodSignature">public&nbsp;<a href="RocksDBSstFileWriter.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBSstFileWriter</a>&nbsp;getValueRocksDBSstFileWriter()</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
