<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>RocksDBStoragePartition (venice API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RocksDBStoragePartition (venice API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.linkedin.davinci.store.rocksdb</a></div>
<h2 title="Class RocksDBStoragePartition" class="title">Class RocksDBStoragePartition</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">com.linkedin.davinci.store.AbstractStoragePartition</a></li>
<li>
<ul class="inheritance">
<li>com.linkedin.davinci.store.rocksdb.RocksDBStoragePartition</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="ReplicationMetadataRocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb">ReplicationMetadataRocksDBStoragePartition</a></code></dd>
</dl>
<hr>
<pre>@NotThreadSafe
public class <span class="typeNameLabel">RocksDBStoragePartition</span>
extends <a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></pre>
<div class="block">In <a href="RocksDBStoragePartition.html" title="class in com.linkedin.davinci.store.rocksdb"><code>RocksDBStoragePartition</code></a>, it assumes the update(insert/delete) will happen sequentially.
 If the batch push is bytewise-sorted by key, this class is leveraging <code>SstFileWriter</code> to
 generate the SST file directly and ingest all the generated SST files into the RocksDB database
 at the end of the push.

 If the ingestion is unsorted, this class is using the regular RocksDB interface to support update
 operations.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#blobTransferEnabled">blobTransferEnabled</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;org.rocksdb.ColumnFamilyDescriptor&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#columnFamilyDescriptors">columnFamilyDescriptors</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.List&lt;org.rocksdb.ColumnFamilyHandle&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#columnFamilyHandleList">columnFamilyHandleList</a></span></code></th>
<td class="colLast">
<div class="block">Column Family is the concept in RocksDB to create isolation between different value for the same key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deferredWrite">deferredWrite</a></span></code></th>
<td class="colLast">
<div class="block">Whether the input is sorted or not.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#partitionId">partitionId</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static org.rocksdb.ReadOptions</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#READ_OPTIONS_DEFAULT">READ_OPTIONS_DEFAULT</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.locks.ReentrantReadWriteLock</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readCloseRWLock">readCloseRWLock</a></span></code></th>
<td class="colLast">
<div class="block">Since all the modification functions are synchronized, we don't need any other synchronization for the update path
 to guard RocksDB closing behavior.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readOnly">readOnly</a></span></code></th>
<td class="colLast">
<div class="block">Whether the database is read only or not.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.rocksdb.RocksDB</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rocksDB">rocksDB</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#storeName">storeName</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeOnly">writeOnly</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.rocksdb.WriteOptions</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeOptions">writeOptions</a></span></code></th>
<td class="colLast">
<div class="block">Here RocksDB disables WAL, but relies on the 'flush', which will be invoked through <a href="#sync()"><code>sync()</code></a>
 to avoid data loss during recovery.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(com.linkedin.davinci.store.StoragePartitionConfig,com.linkedin.davinci.store.rocksdb.RocksDBStorageEngineFactory,java.lang.String,com.linkedin.davinci.stats.RocksDBMemoryStats,com.linkedin.davinci.store.rocksdb.RocksDBThrottler,com.linkedin.davinci.store.rocksdb.RocksDBServerConfig,com.linkedin.davinci.config.VeniceStoreVersionConfig)">RocksDBStoragePartition</a></span>&#8203;(<a href="../StoragePartitionConfig.html" title="class in com.linkedin.davinci.store">StoragePartitionConfig</a>&nbsp;storagePartitionConfig,
                       <a href="RocksDBStorageEngineFactory.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStorageEngineFactory</a>&nbsp;factory,
                       java.lang.String&nbsp;dbDir,
                       <a href="../../stats/RocksDBMemoryStats.html" title="class in com.linkedin.davinci.stats">RocksDBMemoryStats</a>&nbsp;rocksDBMemoryStats,
                       <a href="RocksDBThrottler.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBThrottler</a>&nbsp;rocksDbThrottler,
                       <a href="RocksDBServerConfig.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBServerConfig</a>&nbsp;rocksDBServerConfig,
                       <a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;storeConfig)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(com.linkedin.davinci.store.StoragePartitionConfig,com.linkedin.davinci.store.rocksdb.RocksDBStorageEngineFactory,java.lang.String,com.linkedin.davinci.stats.RocksDBMemoryStats,com.linkedin.davinci.store.rocksdb.RocksDBThrottler,com.linkedin.davinci.store.rocksdb.RocksDBServerConfig,java.util.List,com.linkedin.davinci.config.VeniceStoreVersionConfig)">RocksDBStoragePartition</a></span>&#8203;(<a href="../StoragePartitionConfig.html" title="class in com.linkedin.davinci.store">StoragePartitionConfig</a>&nbsp;storagePartitionConfig,
                       <a href="RocksDBStorageEngineFactory.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStorageEngineFactory</a>&nbsp;factory,
                       java.lang.String&nbsp;dbDir,
                       <a href="../../stats/RocksDBMemoryStats.html" title="class in com.linkedin.davinci.stats">RocksDBMemoryStats</a>&nbsp;rocksDBMemoryStats,
                       <a href="RocksDBThrottler.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBThrottler</a>&nbsp;rocksDbThrottler,
                       <a href="RocksDBServerConfig.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBServerConfig</a>&nbsp;rocksDBServerConfig,
                       java.util.List&lt;byte[]&gt;&nbsp;columnFamilyNameList,
                       <a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;storeConfig)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#beginBatchWrite(java.util.Map,java.util.Optional)">beginBatchWrite</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;checkpointedInfo,
               java.util.Optional&lt;java.util.function.Supplier&lt;byte[]&gt;&gt;&nbsp;expectedChecksumSupplier)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkDatabaseIntegrity(java.util.Map)">checkDatabaseIntegrity</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;checkpointedInfo)</code></th>
<td class="colLast">
<div class="block">checks whether the current state of the database is valid
 during the start of ingestion.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Close the specific partition</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createSnapshot()">createSnapshot</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates a snapshot of the current state of the storage if the blob transfer feature is enabled via the store configuration</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#delete(byte%5B%5D)">delete</a></span>&#8203;(byte[]&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Delete a key from the partition database</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteFilesInDirectory(java.lang.String)">deleteFilesInDirectory</a></span>&#8203;(java.lang.String&nbsp;fullPath)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#drop()">drop</a></span>()</code></th>
<td class="colLast">
<div class="block">Drop when it is not required anymore.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#endBatchWrite()">endBatchWrite</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#get(byte%5B%5D)">get</a></span>&#8203;(byte[]&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Get a value from the partition database</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.nio.ByteBuffer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#get(byte%5B%5D,java.nio.ByteBuffer)">get</a></span>&#8203;(byte[]&nbsp;key,
   java.nio.ByteBuffer&nbsp;valueToBePopulated)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#get(java.nio.ByteBuffer)">get</a></span>&#8203;(java.nio.ByteBuffer&nbsp;keyBuffer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>&lt;K,&#8203;V&gt;<br>V</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#get(K)">get</a></span>&#8203;(K&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Get a Value from the partition database</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;org.rocksdb.MemoryUsageType,&#8203;java.lang.Long&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getApproximateMemoryUsageByType(java.util.Set)">getApproximateMemoryUsageByType</a></span>&#8203;(java.util.Set&lt;org.rocksdb.Cache&gt;&nbsp;caches)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected java.lang.Boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBlobTransferEnabled()">getBlobTransferEnabled</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getByKeyPrefix(byte%5B%5D,com.linkedin.davinci.callback.BytesStreamingCallback)">getByKeyPrefix</a></span>&#8203;(byte[]&nbsp;keyPrefix,
              <a href="../../callback/BytesStreamingCallback.html" title="class in com.linkedin.davinci.callback">BytesStreamingCallback</a>&nbsp;callback)</code></th>
<td class="colLast">
<div class="block">Populate provided callback with key-value pairs from the partition database where the keys have provided prefix.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;org.rocksdb.ColumnFamilyHandle&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getColumnFamilyHandleList()">getColumnFamilyHandleList</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected org.rocksdb.EnvOptions</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getEnvOptions()">getEnvOptions</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFullPathForTempSSTFileDir()">getFullPathForTempSSTFileDir</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected org.rocksdb.Options</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOptions()">getOptions</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPartitionSizeInBytes()">getPartitionSizeInBytes</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the partition database size in bytes</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRmdByteUsage()">getRmdByteUsage</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="RocksDBSstFileWriter.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBSstFileWriter</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRocksDBSstFileWriter()">getRocksDBSstFileWriter</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRocksDBStatValue(java.lang.String)">getRocksDBStatValue</a></span>&#8203;(java.lang.String&nbsp;statName)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#makeSureRocksDBIsStillOpen()">makeSureRocksDBIsStillOpen</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>java.util.List&lt;byte[]&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#multiGet(java.util.List)">multiGet</a></span>&#8203;(java.util.List&lt;byte[]&gt;&nbsp;keys)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.nio.ByteBuffer&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#multiGet(java.util.List,java.util.List)">multiGet</a></span>&#8203;(java.util.List&lt;java.nio.ByteBuffer&gt;&nbsp;keys,
        java.util.List&lt;java.nio.ByteBuffer&gt;&nbsp;values)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#put(byte%5B%5D,byte%5B%5D)">put</a></span>&#8203;(byte[]&nbsp;key,
   byte[]&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Puts a value into the partition database</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#put(byte%5B%5D,java.nio.ByteBuffer)">put</a></span>&#8203;(byte[]&nbsp;key,
   java.nio.ByteBuffer&nbsp;valueBuffer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>&lt;K,&#8203;V&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#put(K,V)">put</a></span>&#8203;(K&nbsp;key,
   V&nbsp;value)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reopen()">reopen</a></span>()</code></th>
<td class="colLast">
<div class="block">Reopen the underlying RocksDB database, and this operation will unload the data cached in memory.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sync()">sync</a></span>()</code></th>
<td class="colLast">
<div class="block">Sync current database.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#validateBatchIngestion()">validateBatchIngestion</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#verifyConfig(com.linkedin.davinci.store.StoragePartitionConfig)">verifyConfig</a></span>&#8203;(<a href="../StoragePartitionConfig.html" title="class in com.linkedin.davinci.store">StoragePartitionConfig</a>&nbsp;partitionConfig)</code></th>
<td class="colLast">
<div class="block">Check <a href="../AbstractStoragePartition.html#verifyConfig(com.linkedin.davinci.store.StoragePartitionConfig)"><code>AbstractStoragePartition.verifyConfig(StoragePartitionConfig)</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.linkedin.davinci.store.AbstractStoragePartition">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.linkedin.davinci.store.<a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></h3>
<code><a href="../AbstractStoragePartition.html#deleteWithReplicationMetadata(byte%5B%5D,byte%5B%5D)">deleteWithReplicationMetadata</a>, <a href="../AbstractStoragePartition.html#getPartitionId()">getPartitionId</a>, <a href="../AbstractStoragePartition.html#getReplicationMetadata(byte%5B%5D)">getReplicationMetadata</a>, <a href="../AbstractStoragePartition.html#putReplicationMetadata(byte%5B%5D,byte%5B%5D)">putReplicationMetadata</a>, <a href="../AbstractStoragePartition.html#putWithReplicationMetadata(byte%5B%5D,byte%5B%5D,byte%5B%5D)">putWithReplicationMetadata</a>, <a href="../AbstractStoragePartition.html#putWithReplicationMetadata(byte%5B%5D,java.nio.ByteBuffer,byte%5B%5D)">putWithReplicationMetadata</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="READ_OPTIONS_DEFAULT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>READ_OPTIONS_DEFAULT</h4>
<pre>protected static final&nbsp;org.rocksdb.ReadOptions READ_OPTIONS_DEFAULT</pre>
</li>
</ul>
<a id="writeOptions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeOptions</h4>
<pre>protected final&nbsp;org.rocksdb.WriteOptions writeOptions</pre>
<div class="block">Here RocksDB disables WAL, but relies on the 'flush', which will be invoked through <a href="#sync()"><code>sync()</code></a>
 to avoid data loss during recovery.</div>
</li>
</ul>
<a id="storeName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeName</h4>
<pre>protected final&nbsp;java.lang.String storeName</pre>
</li>
</ul>
<a id="blobTransferEnabled">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blobTransferEnabled</h4>
<pre>protected final&nbsp;boolean blobTransferEnabled</pre>
</li>
</ul>
<a id="partitionId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partitionId</h4>
<pre>protected final&nbsp;int partitionId</pre>
</li>
</ul>
<a id="readCloseRWLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readCloseRWLock</h4>
<pre>protected final&nbsp;java.util.concurrent.locks.ReentrantReadWriteLock readCloseRWLock</pre>
<div class="block">Since all the modification functions are synchronized, we don't need any other synchronization for the update path
 to guard RocksDB closing behavior.
 The following <a href="#readCloseRWLock"><code>readCloseRWLock</code></a> is only used to guard <a href="#get(byte%5B%5D)"><code>get(byte[])</code></a> since we don't want to synchronize get requests.</div>
</li>
</ul>
<a id="rocksDB">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rocksDB</h4>
<pre>protected&nbsp;org.rocksdb.RocksDB rocksDB</pre>
</li>
</ul>
<a id="deferredWrite">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deferredWrite</h4>
<pre>protected final&nbsp;boolean deferredWrite</pre>
<div class="block">Whether the input is sorted or not. <br>
 deferredWrite = sortedInput => ingested via batch push which is sorted in VPJ, can use <a href="RocksDBSstFileWriter.html" title="class in com.linkedin.davinci.store.rocksdb"><code>RocksDBSstFileWriter</code></a> to ingest
                                the input data to RocksDB <br>
 !deferredWrite = !sortedInput => can not use RocksDBSstFileWriter for ingestion</div>
</li>
</ul>
<a id="readOnly">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readOnly</h4>
<pre>protected final&nbsp;boolean readOnly</pre>
<div class="block">Whether the database is read only or not.</div>
</li>
</ul>
<a id="writeOnly">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeOnly</h4>
<pre>protected final&nbsp;boolean writeOnly</pre>
</li>
</ul>
<a id="columnFamilyHandleList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>columnFamilyHandleList</h4>
<pre>protected final&nbsp;java.util.List&lt;org.rocksdb.ColumnFamilyHandle&gt; columnFamilyHandleList</pre>
<div class="block">Column Family is the concept in RocksDB to create isolation between different value for the same key. All KVs are
 stored in `DEFAULT` column family, if no column family is specified.
 If we stores replication metadata in the RocksDB, we stored it in a separated column family. We will insert all the
 column family descriptors into columnFamilyDescriptors and pass it to RocksDB when opening the store, and it will
 fill the columnFamilyHandles with handles which will be used when we want to put/get/delete
 from different RocksDB column families.</div>
</li>
</ul>
<a id="columnFamilyDescriptors">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>columnFamilyDescriptors</h4>
<pre>protected final&nbsp;java.util.List&lt;org.rocksdb.ColumnFamilyDescriptor&gt; columnFamilyDescriptors</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(com.linkedin.davinci.store.StoragePartitionConfig,com.linkedin.davinci.store.rocksdb.RocksDBStorageEngineFactory,java.lang.String,com.linkedin.davinci.stats.RocksDBMemoryStats,com.linkedin.davinci.store.rocksdb.RocksDBThrottler,com.linkedin.davinci.store.rocksdb.RocksDBServerConfig,java.util.List,com.linkedin.davinci.config.VeniceStoreVersionConfig)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RocksDBStoragePartition</h4>
<pre>protected&nbsp;RocksDBStoragePartition&#8203;(<a href="../StoragePartitionConfig.html" title="class in com.linkedin.davinci.store">StoragePartitionConfig</a>&nbsp;storagePartitionConfig,
                                  <a href="RocksDBStorageEngineFactory.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStorageEngineFactory</a>&nbsp;factory,
                                  java.lang.String&nbsp;dbDir,
                                  <a href="../../stats/RocksDBMemoryStats.html" title="class in com.linkedin.davinci.stats">RocksDBMemoryStats</a>&nbsp;rocksDBMemoryStats,
                                  <a href="RocksDBThrottler.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBThrottler</a>&nbsp;rocksDbThrottler,
                                  <a href="RocksDBServerConfig.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBServerConfig</a>&nbsp;rocksDBServerConfig,
                                  java.util.List&lt;byte[]&gt;&nbsp;columnFamilyNameList,
                                  <a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;storeConfig)</pre>
</li>
</ul>
<a id="&lt;init&gt;(com.linkedin.davinci.store.StoragePartitionConfig,com.linkedin.davinci.store.rocksdb.RocksDBStorageEngineFactory,java.lang.String,com.linkedin.davinci.stats.RocksDBMemoryStats,com.linkedin.davinci.store.rocksdb.RocksDBThrottler,com.linkedin.davinci.store.rocksdb.RocksDBServerConfig,com.linkedin.davinci.config.VeniceStoreVersionConfig)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RocksDBStoragePartition</h4>
<pre>public&nbsp;RocksDBStoragePartition&#8203;(<a href="../StoragePartitionConfig.html" title="class in com.linkedin.davinci.store">StoragePartitionConfig</a>&nbsp;storagePartitionConfig,
                               <a href="RocksDBStorageEngineFactory.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBStorageEngineFactory</a>&nbsp;factory,
                               java.lang.String&nbsp;dbDir,
                               <a href="../../stats/RocksDBMemoryStats.html" title="class in com.linkedin.davinci.stats">RocksDBMemoryStats</a>&nbsp;rocksDBMemoryStats,
                               <a href="RocksDBThrottler.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBThrottler</a>&nbsp;rocksDbThrottler,
                               <a href="RocksDBServerConfig.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBServerConfig</a>&nbsp;rocksDBServerConfig,
                               <a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;storeConfig)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="makeSureRocksDBIsStillOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeSureRocksDBIsStillOpen</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;makeSureRocksDBIsStillOpen()</pre>
</li>
</ul>
<a id="getEnvOptions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEnvOptions</h4>
<pre class="methodSignature">protected&nbsp;org.rocksdb.EnvOptions&nbsp;getEnvOptions()</pre>
</li>
</ul>
<a id="getBlobTransferEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlobTransferEnabled</h4>
<pre class="methodSignature">protected&nbsp;java.lang.Boolean&nbsp;getBlobTransferEnabled()</pre>
</li>
</ul>
<a id="getColumnFamilyHandleList()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getColumnFamilyHandleList</h4>
<pre class="methodSignature">protected&nbsp;java.util.List&lt;org.rocksdb.ColumnFamilyHandle&gt;&nbsp;getColumnFamilyHandleList()</pre>
</li>
</ul>
<a id="getRmdByteUsage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRmdByteUsage</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getRmdByteUsage()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#getRmdByteUsage()">getRmdByteUsage</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="checkDatabaseIntegrity(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDatabaseIntegrity</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;checkDatabaseIntegrity&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;checkpointedInfo)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#checkDatabaseIntegrity(java.util.Map)">AbstractStoragePartition</a></code></span></div>
<div class="block">checks whether the current state of the database is valid
 during the start of ingestion.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#checkDatabaseIntegrity(java.util.Map)">checkDatabaseIntegrity</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="beginBatchWrite(java.util.Map,java.util.Optional)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginBatchWrite</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;beginBatchWrite&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;checkpointedInfo,
                            java.util.Optional&lt;java.util.function.Supplier&lt;byte[]&gt;&gt;&nbsp;expectedChecksumSupplier)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#beginBatchWrite(java.util.Map,java.util.Optional)">beginBatchWrite</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="endBatchWrite()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endBatchWrite</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;endBatchWrite()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#endBatchWrite()">endBatchWrite</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="createSnapshot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createSnapshot</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;createSnapshot()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#createSnapshot()">AbstractStoragePartition</a></code></span></div>
<div class="block">Creates a snapshot of the current state of the storage if the blob transfer feature is enabled via the store configuration</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#createSnapshot()">createSnapshot</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="put(byte[],byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;put&#8203;(byte[]&nbsp;key,
                byte[]&nbsp;value)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#put(byte%5B%5D,byte%5B%5D)">AbstractStoragePartition</a></code></span></div>
<div class="block">Puts a value into the partition database</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#put(byte%5B%5D,byte%5B%5D)">put</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="put(byte[],java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;put&#8203;(byte[]&nbsp;key,
                java.nio.ByteBuffer&nbsp;valueBuffer)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#put(byte%5B%5D,java.nio.ByteBuffer)">put</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="put(java.lang.Object,java.lang.Object)">
<!--   -->
</a><a id="put(K,V)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre class="methodSignature">public&nbsp;&lt;K,&#8203;V&gt;&nbsp;void&nbsp;put&#8203;(K&nbsp;key,
                            V&nbsp;value)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#put(K,V)">put</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="get(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre class="methodSignature">public&nbsp;byte[]&nbsp;get&#8203;(byte[]&nbsp;key)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#get(byte%5B%5D)">AbstractStoragePartition</a></code></span></div>
<div class="block">Get a value from the partition database</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#get(byte%5B%5D)">get</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - key to be retrieved</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null if the key does not exist, byte[] value if it exists.</dd>
</dl>
</li>
</ul>
<a id="get(byte[],java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre class="methodSignature">public&nbsp;java.nio.ByteBuffer&nbsp;get&#8203;(byte[]&nbsp;key,
                               java.nio.ByteBuffer&nbsp;valueToBePopulated)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#get(byte%5B%5D,java.nio.ByteBuffer)">get</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="get(java.lang.Object)">
<!--   -->
</a><a id="get(K)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre class="methodSignature">public&nbsp;&lt;K,&#8203;V&gt;&nbsp;V&nbsp;get&#8203;(K&nbsp;key)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#get(K)">AbstractStoragePartition</a></code></span></div>
<div class="block">Get a Value from the partition database</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#get(K)">get</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type for Key</dd>
<dd><code>V</code> - the type for the return value</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - key to be retrieved</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null if the key does not exist, V value if it exists</dd>
</dl>
</li>
</ul>
<a id="get(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre class="methodSignature">public&nbsp;byte[]&nbsp;get&#8203;(java.nio.ByteBuffer&nbsp;keyBuffer)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#get(java.nio.ByteBuffer)">get</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="multiGet(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>multiGet</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;byte[]&gt;&nbsp;multiGet&#8203;(java.util.List&lt;byte[]&gt;&nbsp;keys)</pre>
</li>
</ul>
<a id="multiGet(java.util.List,java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>multiGet</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;java.nio.ByteBuffer&gt;&nbsp;multiGet&#8203;(java.util.List&lt;java.nio.ByteBuffer&gt;&nbsp;keys,
                                                    java.util.List&lt;java.nio.ByteBuffer&gt;&nbsp;values)</pre>
</li>
</ul>
<a id="getByKeyPrefix(byte[],com.linkedin.davinci.callback.BytesStreamingCallback)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getByKeyPrefix</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;getByKeyPrefix&#8203;(byte[]&nbsp;keyPrefix,
                           <a href="../../callback/BytesStreamingCallback.html" title="class in com.linkedin.davinci.callback">BytesStreamingCallback</a>&nbsp;callback)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#getByKeyPrefix(byte%5B%5D,com.linkedin.davinci.callback.BytesStreamingCallback)">AbstractStoragePartition</a></code></span></div>
<div class="block">Populate provided callback with key-value pairs from the partition database where the keys have provided prefix.
 If prefix is null, callback will be populated will all key-value pairs from the partition database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#getByKeyPrefix(byte%5B%5D,com.linkedin.davinci.callback.BytesStreamingCallback)">getByKeyPrefix</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="validateBatchIngestion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateBatchIngestion</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;validateBatchIngestion()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#validateBatchIngestion()">validateBatchIngestion</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="delete(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;delete&#8203;(byte[]&nbsp;key)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#delete(byte%5B%5D)">AbstractStoragePartition</a></code></span></div>
<div class="block">Delete a key from the partition database</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#delete(byte%5B%5D)">delete</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="sync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sync</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;sync()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#sync()">AbstractStoragePartition</a></code></span></div>
<div class="block">Sync current database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#sync()">sync</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Database related info, which is required to be checkpointed.</dd>
</dl>
</li>
</ul>
<a id="deleteFilesInDirectory(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteFilesInDirectory</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteFilesInDirectory&#8203;(java.lang.String&nbsp;fullPath)</pre>
</li>
</ul>
<a id="drop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>drop</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;drop()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#drop()">AbstractStoragePartition</a></code></span></div>
<div class="block">Drop when it is not required anymore.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#drop()">drop</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;close()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#close()">AbstractStoragePartition</a></code></span></div>
<div class="block">Close the specific partition</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#close()">close</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="reopen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reopen</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;reopen()</pre>
<div class="block">Reopen the underlying RocksDB database, and this operation will unload the data cached in memory.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#reopen()">reopen</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
</dl>
</li>
</ul>
<a id="getRocksDBStatValue(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRocksDBStatValue</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getRocksDBStatValue&#8203;(java.lang.String&nbsp;statName)</pre>
</li>
</ul>
<a id="getApproximateMemoryUsageByType(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getApproximateMemoryUsageByType</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;org.rocksdb.MemoryUsageType,&#8203;java.lang.Long&gt;&nbsp;getApproximateMemoryUsageByType&#8203;(java.util.Set&lt;org.rocksdb.Cache&gt;&nbsp;caches)</pre>
</li>
</ul>
<a id="verifyConfig(com.linkedin.davinci.store.StoragePartitionConfig)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyConfig</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;verifyConfig&#8203;(<a href="../StoragePartitionConfig.html" title="class in com.linkedin.davinci.store">StoragePartitionConfig</a>&nbsp;partitionConfig)</pre>
<div class="block">Check <a href="../AbstractStoragePartition.html#verifyConfig(com.linkedin.davinci.store.StoragePartitionConfig)"><code>AbstractStoragePartition.verifyConfig(StoragePartitionConfig)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#verifyConfig(com.linkedin.davinci.store.StoragePartitionConfig)">verifyConfig</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitionConfig</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="getPartitionSizeInBytes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPartitionSizeInBytes</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getPartitionSizeInBytes()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../AbstractStoragePartition.html#getPartitionSizeInBytes()">AbstractStoragePartition</a></code></span></div>
<div class="block">Get the partition database size in bytes</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AbstractStoragePartition.html#getPartitionSizeInBytes()">getPartitionSizeInBytes</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractStoragePartition.html" title="class in com.linkedin.davinci.store">AbstractStoragePartition</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>partition database size</dd>
</dl>
</li>
</ul>
<a id="getOptions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOptions</h4>
<pre class="methodSignature">protected&nbsp;org.rocksdb.Options&nbsp;getOptions()</pre>
</li>
</ul>
<a id="getFullPathForTempSSTFileDir()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFullPathForTempSSTFileDir</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getFullPathForTempSSTFileDir()</pre>
</li>
</ul>
<a id="getRocksDBSstFileWriter()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRocksDBSstFileWriter</h4>
<pre class="methodSignature">public&nbsp;<a href="RocksDBSstFileWriter.html" title="class in com.linkedin.davinci.store.rocksdb">RocksDBSstFileWriter</a>&nbsp;getRocksDBSstFileWriter()</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
